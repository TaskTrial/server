model Notification {
  id         String    @id @default(uuid()) @db.Uuid
  userId     String    @db.Uuid
  content    String    @db.Text
  isRead     Boolean   @default(false)
  type       String    @db.VarChar(50)
  metadata   Json?
  createdAt  DateTime  @default(now())
  deletedAt  DateTime?
  entityType String?   @db.VarChar(50) // for reference to specific entity
  entityId   String?   @db.Uuid // for reference to specific entity

  // Relations
  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([createdAt])
  @@index([isRead])
  @@index([entityId, entityType]) // for queries filtering by entity
  @@map("notifications")
}
