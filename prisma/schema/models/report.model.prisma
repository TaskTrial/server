model Report {
  id          String     @id @default(uuid()) @db.Uuid
  name        String     @db.VarChar(100)
  description String?    @db.Text
  reportType  ReportType
  format      String     @db.VarChar(20)
  parameters  Json?
  filePath    String
  generatedBy String     @db.Uuid
  createdAt   DateTime   @default(now())

  organizationId String? @db.Uuid
  teamId         String? @db.Uuid
  projectId      String? @db.Uuid
  departmentId   String? @db.Uuid
  userId         String? @db.Uuid

  // Storage information
  storageProvider String? @db.VarChar(50) // e.g., "s3", "azure", "local"
  storageKey      String // Cloud storage reference

  // Relations
  generator    User          @relation(fields: [generatedBy], references: [id])
  organization Organization? @relation(fields: [organizationId], references: [id])
  team         Team?         @relation(fields: [teamId], references: [id])
  project      Project?      @relation(fields: [projectId], references: [id])
  department   Department?   @relation(fields: [departmentId], references: [id])
  user         User?         @relation("UserReports", fields: [userId], references: [id])

  @@index([generatedBy])
  @@index([organizationId])
  @@index([teamId])
  @@index([projectId])
  @@index([createdAt])
  @@map("reports")
}
